!function(a){a.fn.twentytwenty=function(b){var b=a.extend({default_offset_pct:.5,orientation:"horizontal",move_on_hover:!1,is_wiggle:!1,wiggle_timeout:1e3},b);return this.each(function(){function t(){function i(){d.hasClass("active")&&clearInterval(j),c>h&&(f=-1),c<-h&&(f=1),c+=g*f,pct=c+a,pct<0&&(pct=0),pct>1&&(pct=1),q(pct),0==c.toFixed(2)&&e++,e>2&&clearInterval(j)}var a=b.default_offset_pct,c=0,e=0,f=1,g=.012,h=.06,j=setInterval(i,50)}var c=b.default_offset_pct,d=a(this),e=b.orientation,f="vertical"===e?"down":"left",g="vertical"===e?"up":"right",h=b.move_on_hover,i=b.is_wiggle,j=b.wiggle_timeout;d.wrap("<div class='twentytwenty-wrapper twentytwenty-"+e+"'></div>"),d.append("<div class='twentytwenty-overlay'></div>");var k=d.find("img:first"),l=d.find("img:last");d.append("<div class='twentytwenty-handle'></div>");var m=d.find(".twentytwenty-handle");m.append("<span class='twentytwenty-"+f+"-arrow'></span>"),m.append("<span class='twentytwenty-"+g+"-arrow'></span>"),d.addClass("twentytwenty-container"),k.addClass("twentytwenty-before"),l.addClass("twentytwenty-after");var n=d.find(".twentytwenty-overlay");n.append("<div class='twentytwenty-before-label'></div>"),n.append("<div class='twentytwenty-after-label'></div>");var o=function(a){var b=k.width(),c=k.height();return{w:b+"px",h:c+"px",cw:a*b+"px",ch:a*c+"px"}},p=function(a){"vertical"===e?k.css("clip","rect(0,"+a.w+","+a.ch+",0)"):k.css("clip","rect(0,"+a.cw+","+a.h+",0)"),d.css("height",a.h)},q=function(a){var b=o(a);m.css("vertical"===e?"top":"left","vertical"===e?b.ch:b.cw),p(b)};a(window).on("resize.twentytwenty",function(a){q(c)});var r=0,s=0;m.on("movestart",function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>-a.distY)&&"vertical"!==e?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&"vertical"===e&&a.preventDefault(),d.addClass("active"),r=d.offset().left,offsetY=d.offset().top,s=k.width(),imgHeight=k.height()}),m.on("moveend",function(a){h||d.removeClass("active")}),m.on("move",function(a){d.hasClass("active")&&(c="vertical"===e?(a.pageY-offsetY)/imgHeight:(a.pageX-r)/s,c<0&&(c=0),c>1&&(c=1),q(c))}),d.find("img").on("mousedown",function(a){a.preventDefault()}),h&&(d.on("mouseenter",function(a){d.addClass("active"),r=d.offset().left,offsetY=d.offset().top,s=k.width(),imgHeight=k.height()}),d.on("mouseleave",function(a){d.removeClass("active")}),d.on("mousemove",function(a){d.hasClass("active")&&(c="vertical"===e?(a.pageY-offsetY)/imgHeight:(a.pageX-r)/s,c<0&&(c=0),c>1&&(c=1),q(c))})),a(window).trigger("resize.twentytwenty"),i&&setTimeout(t,j),m.on("touchmove",function(a){a.preventDefault()})})}}(jQuery);